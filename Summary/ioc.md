## IOC

### IOC背景

​		面向对象设计的软件系统中，它的底层都是由N个对象构成的，各个对象之间通过相互合作，最终实现系统地业务逻辑；

​		面向对象设计及编程的基本思想，简单来说就是把复杂系统分解成相互合作的对象，这些对象类通过封装以后，内部实现对外部是透明的，从而降低了解决问题的复杂度，而且可以灵活地被重用和扩展。 

 ![img](https://images0.cnblogs.com/blog/281227/201305/30130748-488045b61d354b019a088b9cb7fc2d73.png)  软件系统中耦合的对象

​		对象之间的依赖关系也越来越复杂，经常会出现对象之间的多重依赖性关系，对象之间耦合度过高的系统，修改必然会出现牵一发而动全身的情形。 

### IOC

IOC是Inversion of Control的缩写，"控制反转"。

 ![img ](https://images0.cnblogs.com/blog/281227/201305/30131727-a8268fe6370049028078e6b8a1cbc88f.png) IOC解耦过程

​		引进中间位置的“第三方”，也就是IOC容器，使得A、B、C、D这4个对象没有了耦合关系，齿轮之间的传动全部依靠“第三方”了，全部对象的控制权全部上缴给“第三方”IOC容器，所以，IOC容器成了整个系统的关键核心，它起到了一种类似“粘合剂”的作用，把系统中的所有对象粘合在一起发挥作用，如果没有这个“粘合剂”，对象与对象之间会彼此失去联系。

 ![img](https://images0.cnblogs.com/blog/281227/201305/30132051-58562511cc6541fdb2636081e455d808.png) 中间IOC容器去掉

​		中间IOC容器去掉，A、B、C、D这4个对象之间已经没有了耦合关系，彼此毫无联系，这样的话，当你在实现A的时候，根本无须再去考虑B、C和D了，对象之间的依赖关系已经降低到了最低程度。

### **IOC也叫依赖注入**（DI）

依赖注入，就是由IOC容器在运行期间，动态地将某种依赖关系注入到对象之中，实现对象之间的解耦。 

### **IOC优缺点**

1. 引入了第三方IOC容器，生成对象的步骤变得复杂，凭空多出一层，增加学习和认识成本。

2. IOC容器生成对象是通过反射方式，在运行效率上有一定的损耗。

3. IOC框架产品，需要进行大量的配制工作，比较繁琐，对于小项目而言，客观上加大一些工作成本。

4. IOC框架成熟度需要进行评估，引入不成熟的IOC框架，可能会影响整个项目。

